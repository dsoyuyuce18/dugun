<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2487.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;title&gt;DÃ¼ÄŸÃ¼n Mesaj Defteri&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>body {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-family: Arial, sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>text-align: center;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #f8f8f8;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 30px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>form {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: white;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>display: inline-block;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>box-shadow: 0 4px 10px rgba(0,0,0,0.1);</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>input, textarea {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>width: 90%;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>margin: 10px 0;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 10px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 5px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: 1px solid #ccc;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>button {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>padding: 10px 20px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #4CAF50;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>color: white;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border: none;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>border-radius: 5px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>font-size: 16px;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>cursor: pointer;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>button:hover {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>background: #45a049;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;h1&gt;ðŸ’Œ Ezel &amp; DoÄŸukan DÃ¼ÄŸÃ¼n Mesaj Defteri ðŸ’Œ&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;p&gt;MesajÄ±nÄ±zÄ± ve fotoÄŸrafÄ±nÄ±zÄ± bizimle paylaÅŸÄ±n!&lt;/p&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;form id="guestForm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;input type="text" id="name" placeholder="Ä°sminiz" required&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;textarea id="message" placeholder="MesajÄ±nÄ±z" required&gt;&lt;/textarea&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;input type="file" id="photo" accept="image/*"&gt;&lt;br&gt;&lt;br&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>&lt;button type="submit"&gt;GÃ¶nder&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/form&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;script type="module"&gt;</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>import { createClient } from 'https://esm.sh/@supabase/supabase-js@2'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>// âœ… SENÄ°N PROJE BÄ°LGÄ°LERÄ°N</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const supabaseUrl = 'https://bvirzabniuhcypgmtdrp.supabase.co'</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJ2aXJ6YWJuaXVoY3lwZ210ZHJwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTM1NTk0NDQsImV4cCI6MjA2OTEzNTQ0NH0.0wuY58wWadQxIk7wYpahuO-Tz2xdXXL23Wh_6FbgvOU'</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>const supabase = createClient(supabaseUrl, supabaseKey)</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>document.getElementById('guestForm').addEventListener('submit', async (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>e.preventDefault()</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const name = document.getElementById('name').value</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const message = document.getElementById('message').value</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const photoFile = document.getElementById('photo').files[0]</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>let photo_url = null</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (photoFile) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// âœ… FotoÄŸrafÄ± yÃ¼kle</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const fileName = `${Date.now()}-${photoFile.name}`</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const { error: uploadError } = await supabase.storage.from('dugun-photo').upload(fileName, photoFile)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>if (uploadError) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>alert('FotoÄŸraf yÃ¼klenemedi: ' + uploadError.message)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  Â  </span>return</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>// âœ… Public URL al</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>const { data: publicUrl } = supabase.storage.from('dugun-photo').getPublicUrl(fileName)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>photo_url = publicUrl.publicUrl</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>// âœ… MesajÄ± kaydet</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>const { error: insertError } = await supabase.from('messages').insert([</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>{ name: name, message: message, photo_url: photo_url }</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>])</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>if (insertError) {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>alert('Mesaj kaydedilemedi: ' + insertError.message)</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>alert('ðŸŽ‰ Mesaj baÅŸarÄ±yla kaydedildi! ðŸŽ‰')</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  Â  </span>document.getElementById('guestForm').reset()</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  Â  </span>}</p>
<p class="p1"><span class="Apple-converted-space">Â  Â  </span>})</p>
<p class="p1"><span class="Apple-converted-space">Â  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
